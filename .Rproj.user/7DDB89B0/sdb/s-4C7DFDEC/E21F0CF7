{
    "collab_server" : "",
    "contents" : "#默认情况下，read.csv()函数将输出作为数据帧\n\n#####xml#####\n##xml文件由R语言使用函数xmlParse()读取。 它作为列表存储在R语言中。\n# Load the package required to read XML files.\nlibrary(\"XML\")\n\n# Also load the other required package.\nlibrary(\"methods\")\n\n# Give the input file name to the function.\nresult <- xmlParse(file = \"input.xml\")\n\n# Print the result.\nprint(result)\n\n\n# Load the packages required to read XML files.\nlibrary(\"XML\")\nlibrary(\"methods\")\n\n# Give the input file name to the function.\nresult <- xmlParse(file = \"input.xml\")\n\n# Exract the root node form the xml file.\nrootnode <- xmlRoot(result)\n\n# Find number of nodes in the root.\nrootsize <- xmlSize(rootnode)\n\n# Print the result.\nprint(rootsize)\n\n# Exract the root node form the xml file.\nrootnode <- xmlRoot(result)\n\n# Print the result.\nprint(rootnode[1])\n\n# Exract the root node form the xml file.\nrootnode <- xmlRoot(result)\n\n# Get the first element of the first node.\nprint(rootnode[[1]][[1]])\n\n# Get the fifth element of the first node.\nprint(rootnode[[1]][[5]])\n\n# Get the second element of the third node.\nprint(rootnode[[3]][[2]])\n# Convert the input xml file to a data frame.\nxmldataframe <- xmlToDataFrame(\"input.xml\")\nprint(xmldataframe)\n\n#####json#####\nlibrary(rjson)\n# Give the input file name to the function.\nresult <- fromJSON(file = \"input.json\")\n\n# Print the result.\nprint(result)\n\n# Convert JSON file to a data frame.\njson_data_frame <- as.data.frame(result)\n\nprint(json_data_frame)\n\n#####web#####\nlibrary(\"RCurl\")\nlibrary(\"XML\")\nlibrary(\"stringr\")\nlibrary(\"plyr\")\n\n# Read the URL.\nurl <- \"http://www.geos.ed.ac.uk/~weather/jcmb_ws/\"\n\n# Gather the html links present in the webpage.\nlinks <- getHTMLLinks(url)\n\n# Identify only the links which point to the JCMB 2015 files. \nfilenames <- links[str_detect(links, \"JCMB_2015\")]\n\n# Store the file names as a list.\nfilenames_list <- as.list(filenames)\n\n# Create a function to download the files by passing the URL and filename list.\ndownloadcsv <- function (mainurl,filename) {\n  filedetails <- str_c(mainurl,filename)\n  download.file(filedetails,filename)\n}\n\n# Now apply the l_ply function and save the files into the current R working directory.\n#l_ply: Split list, apply function, and discard results.\nl_ply(filenames,downloadcsv,mainurl = \"http://www.geos.ed.ac.uk/~weather/jcmb_ws/\")\n\n#####数据库#####\nlibrary(RMySQL)\n# Create a connection Object to MySQL database.\n# We will connect to the sampel database named \"sakila\" that comes with MySql installation.\nmysqlconnection = dbConnect(MySQL(), user = 'root', password = '', dbname = 'sakila',\n                            host = 'localhost')\n\n# List the tables available in this database.\n\n# Query the \"actor\" tables to get all the rows.\nresult = dbSendQuery(mysqlconnection, \"select * from actor\")\n\n# Store the result in a R data frame object. n = 5 is used to fetch first 5 rows.\ndata.frame = fetch(result, n = 5)\nprint(data.frame)\n\nresult = dbSendQuery(mysqlconnection, \"select * from actor where last_name = 'TORN'\")\n\n# Fetch all the records(with n = -1) and store it as a data frame.\ndata.frame = fetch(result, n = -1)\nprint(data)\n\ndbSendQuery(mysqlconnection, \"update mtcars set disp = 168.5 where hp = 110\")\n\ndbSendQuery(mysqlconnection,\n            \"insert into mtcars(row_names, mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb)\n            values('New Mazda RX4 Wag', 21, 6, 168.5, 110, 3.9, 2.875, 17.02, 0, 1, 4, 4)\"\n)\n\n# Create the connection object to the database where we want to create the table.\nmysqlconnection = dbConnect(MySQL(), user = 'root', password = '', dbname = 'sakila', \n                            host = 'localhost')\n\n# Use the R data frame \"mtcars\" to create the table in MySql.\n# All the rows of mtcars are taken inot MySql.\ndbWriteTable(mysqlconnection, \"mtcars\", mtcars[, ], overwrite = TRUE)\ndbListTables(mysqlconnection)\ndbSendQuery(mysqlconnection, 'drop table if exists mtcars')\n",
    "created" : 1577109103904.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "881066660",
    "id" : "E21F0CF7",
    "lastKnownWriteTime" : 1577110801,
    "last_content_update" : 1577110801712,
    "path" : "~/Desktop/W3CLearning/Notes03dataAPI.R",
    "project_path" : "Notes03dataAPI.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}